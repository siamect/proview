ARG RELEASE=debian:10
FROM $RELEASE
ARG INSTALL_UPDATE
ARG INSTALL_GIT
ARG INSTALL_VIDEODUMMY
ARG INSTALL_BUILD
ARG INSTALL_RPI
ARG BUILD_RPI
ARG TZ

ENV DISPLAY :1
ENV DEBIAN_FRONTEND none_interactive

ENV TZ=$TZ
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

RUN $INSTALL_UPDATE
RUN $INSTALL_GIT
RUN $INSTALL_VIDEODUMMY
RUN $INSTALL_BUILD
RUN if [ $BUILD_RPI -eq 1 ]; then \
  $INSTALL_RPI; \
  fi
