#!/bin/bash
#
# Proview   Open Source Process Control.
# Copyright (C) 2005-2011 SSAB Oxelosund AB.
#
# This file is part of Proview.
#
# This program is free software; you can redistribute it and/or 
# modify it under the terms of the GNU General Public License as 
# published by the Free Software Foundation, either version 2 of 
# the License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful 
# but WITHOUT ANY WARRANTY; without even the implied warranty of 
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the 
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License 
# along with Proview. If not, see <http://www.gnu.org/licenses/>
#
# Linking Proview statically or dynamically with other modules is
# making a combined work based on Proview. Thus, the terms and 
# conditions of the GNU General Public License cover the whole 
# combination.
#
# In addition, as a special exception, the copyright holders of
# Proview give you permission to, from the build function in the
# Proview Configurator, combine Proview with modules generated by the
# Proview PLC Editor to a PLC program, regardless of the license
# terms of these modules. You may copy and distribute the resulting
# combined work under the terms of your choice, provided that every 
# copy of the combined work is accompanied by a complete copy of 
# the source code of Proview (the version used to produce the 
# combined work), being distributed under the terms of the GNU 
# General Public License plus this exception.
#
#
# Open a new terminal and start the navigator
# This procedure is started from the navigator 'Open db' method for
# DbConfig and DbTrace objects.
#
username=$1
password=$2
database=$3
title=$4

#set -o xtrace
if [ -z $database ]; then
  echo "Database is missing"
  return
fi

if [ "`eval locale -a | grep -i "^en_US.UTF-8$"`" != "" ]; then
  export LC_TIME="en_US.UTF-8"
elif [ "`eval locale -a | grep -i "^en_US$"`" != "" ]; then
  export LC_TIME="en_US"
fi
export LC_NUMERIC="POSIX"

echo "-- Opening volume '$database'"
wb -q "$username" "$password" $database
